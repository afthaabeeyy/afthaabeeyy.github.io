<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Mystery for Shifana ‚Äî by Afthab</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --rose:#ffb3d1;
      --lav:#b59cff;
      --accent:#ff87b8;
      --bg1:#2b0a1f;
      --bg2:#3a0f3f;
      --text:#fffdfc;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Montserrat,system-ui,-apple-system,Segoe UI;color:var(--text);}

    body{
      background:linear-gradient(135deg,var(--rose)10%,transparent 30%), radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.03), transparent 20%), linear-gradient(180deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;padding:24px;overflow:hidden;
      -webkit-font-smoothing:antialiased;
    }

    .back{position:fixed;inset:0;z-index:0;pointer-events:none;}
    .spark{position:absolute;width:4px;height:4px;border-radius:50%;background:rgba(255,255,255,0.9);filter:blur(1px);opacity:0.9;mix-blend-mode:screen;}

    header{position:fixed;top:20px;left:20px;font-family:Great Vibes,cursive;font-size:26px;color:var(--accent);z-index:6;text-shadow:0 6px 20px rgba(0,0,0,0.5)}

    .card{
      position:relative;z-index:4;max-width:90%;width:100%;border-radius:20px;padding:20px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));backdrop-filter: blur(8px);box-shadow:0 14px 50px rgba(8,6,12,0.6);
      display:flex;flex-direction:column;align-items:center;gap:16px;min-height:480px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);
    }

    .hero{margin-top:4px;text-align:center}
    .hero h1{font-family:Great Vibes,cursive;font-size:36px;color:var(--rose);text-shadow:0 0 20px rgba(255,171,200,0.12);letter-spacing:1px}
    .hero p{color:rgba(255,255,255,0.8);margin-top:4px;font-weight:300}

    .note{width:100%;background:rgba(255,255,255,0.02);border-radius:14px;padding:14px;min-height:120px;display:flex;align-items:flex-start;justify-content:flex-start;cursor:pointer;transition:transform .28s ease,box-shadow .28s ease;}
    .note:active{transform:translateY(2px);}    

    .type{font-size:16px;line-height:1.6;color:rgba(255,250,250,0.95);white-space:pre-wrap;text-align:left;width:100%}
    .cursor{display:inline-block;width:8px;height:20px;background:var(--accent);border-radius:3px;margin-left:4px;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    .secret{width:90%;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:16px;padding:16px;border:1px solid rgba(255,255,255,0.05);box-shadow:0 12px 40px rgba(0,0,0,0.5);opacity:0;transform:translateY(18px) scale(.98);transition:all .5s cubic-bezier(.2,.9,.2,1);text-align:center}
    .secret.show{opacity:1;transform:translateY(0) scale(1)}
    .secret h2{font-family:Great Vibes,cursive;font-size:28px;color:var(--lav);margin-bottom:6px}
    .secret p{font-size:16px;color:rgba(255,250,250,0.95);line-height:1.5}
    .signature{margin-top:10px;font-family:Great Vibes,cursive;font-size:18px;color:rgba(255,255,255,0.9)}

    .controls{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap;justify-content:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 12px;border-radius:10px;color:rgba(255,255,255,0.9);cursor:pointer;transition:all .25s}
    .btn:hover{background:rgba(255,255,255,0.06);box-shadow:0 6px 30px rgba(255,136,184,0.08)}

    .heart{position:absolute;font-size:20px;opacity:0.9;transform:translateY(0);animation:floatUp 4s ease-in forwards;z-index:5}
    @keyframes floatUp{0%{transform:translateY(0) scale(1);opacity:1}100%{transform:translateY(-300px) scale(.6);opacity:0}}

    .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.35),rgba(0,0,0,0.5));display:flex;align-items:center;justify-content:center;z-index:5;flex-direction:column;backdrop-filter: blur(2px);}
    .reveal-button{background:linear-gradient(90deg,var(--rose),var(--lav));padding:12px 18px;border-radius:999px;color:#fff;font-weight:600;border:none;box-shadow:0 8px 30px rgba(255,140,180,0.14);cursor:pointer}
    .reveal-sub{margin-top:10px;color:rgba(255,255,255,0.9);font-size:14px;text-align:center}

  </style>
</head>
<body>

  <audio id="bgAudio" loop playsinline preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2021/09/09/audio_8d7e7f8a6d.mp3?filename=romantic-piano-11204.mp3" type="audio/mpeg">
  </audio>

  <header>Afthab ‚ù§ Shifana</header>

  <div class="back" id="back"></div>

  <main class="card" role="main" id="card">
    <div class="hero">
      <h1>For My Mysterious Star</h1>
      <p>Tap anywhere to reveal a little secret.</p>
    </div>

    <div class="note" id="note" tabindex="0" aria-label="Reveal message">
      <div class="type" id="typewriter"></div>
    </div>

    <div class="secret" id="secret">
      <h2>My Secret</h2>
      <p id="message">secret allee ,enthaa nn ariyoo njn parayatteüòÅ , nkk llee anne llee nannaayi onn kettipidich umma veikanamüòâüíã,ith arinjaal appoothanne ank theraan ppttilla nn enk ariyaam so ijjenk veegm chatil vann oru uumma thaa ttooüòåüôà </p>
      <div class="signature">‚Äî Afthab</div>
    </div>

    <div class="controls">
      <button class="btn" id="heartBtn">‚ô° Send Heart</button>
      <button class="btn" id="replayBtn">Replay</button>
      <button class="btn" id="muteBtn">Mute</button>
    </div>

    <div class="overlay" id="overlay">
      <button class="reveal-button" id="revealBtn">Tap to reveal</button>
      <div class="reveal-sub">(Music will start automatically on tap)</div>
    </div>
  </main>

  <script>
    // sparks
    const back = document.getElementById('back');
    for(let i=0;i<25;i++){
      const el=document.createElement('div');
      el.className='spark';
      const size = 3 + Math.random()*4;
      el.style.width = size+'px'; el.style.height = size+'px';
      el.style.left = Math.random()*100+'%'; el.style.top = Math.random()*100+'%';
      el.style.opacity = 0.5 + Math.random()*0.5;
      back.appendChild(el);
    }

    // hearts
    function burstHeart(){
      const heart = document.createElement('div');
      heart.className='heart';
      heart.style.left = (20 + Math.random()*60) + '%';
      heart.style.bottom = '-20px';
      heart.textContent = '‚ù§';
      heart.style.fontSize = (14 + Math.random()*25) + 'px';
      document.body.appendChild(heart);
      heart.addEventListener('animationend', ()=>heart.remove());
    }

    const typeEl = document.getElementById('typewriter');
    const secret = document.getElementById('secret');
    let typing=false;

    function typeAll(){
      typeEl.innerHTML='';
      const line = "Dear Shifana, Some nights I look at the sky and I think of you. You are the quiet light that changed my dark. Keep this little secret close. ‚Äî Afthab";
      let j=0;
      typing=true;
      function step(){
        if(j<line.length){
          typeEl.innerHTML = line.slice(0,j+1) + '<span class="cursor"></span>';
          j++; setTimeout(step, 25 + Math.random()*30);
        } else { typing=false; }
      }
      step();
    }

    const audio = document.getElementById('bgAudio');
    const overlay = document.getElementById('overlay');

    function startExperience(){
      if(audio.paused){audio.play().catch(()=>{});}
      overlay.style.display='none';
      secret.classList.add('show');
      typeAll();
      for(let i=0;i<5;i++){ setTimeout(burstHeart,i*200); }
    }

    document.getElementById('revealBtn').addEventListener('click', startExperience);
    document.body.addEventListener('touchstart', startExperience, {once:true});
    document.body.addEventListener('click', startExperience, {once:true});

    document.getElementById('note').addEventListener('click', startExperience);
    document.getElementById('heartBtn').addEventListener('click', burstHeart);
    document.getElementById('replayBtn').addEventListener('click', ()=>{ typeEl.innerHTML=''; secret.classList.remove('show'); setTimeout(typeAll,100); });
    document.getElementById('muteBtn').addEventListener('click', ()=>{ if(audio.paused){audio.play();document.getElementById('muteBtn').textContent='Mute';} else {audio.pause();document.getElementById('muteBtn').textContent='Play';} });
  </script>

</body>
</html>
